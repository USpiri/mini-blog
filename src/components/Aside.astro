---
import CautionIcon from "./icons/CautionIcon.astro";
import DangerIcon from "./icons/DangerIcon.astro";
import NoteIcon from "./icons/NoteIcon.astro";
import SuccessIcon from "./icons/SuccessIcon.astro";
import TipIcon from "./icons/TipIcon.astro";

interface Props {
  type?: "note" | "tip" | "caution" | "danger" | "success";
  title: string;
}

const { type = "note", title } = Astro.props;
---

<aside class={`${type} card rounded-lg overflow-hidden mt-5 mb-2`}>
  <div class={`border-l-4 ${type} bord p-2`}>
    <header
      class={`${type} content not-prose title flex items-center gap-2 font-semibold`}
      aria-hidden="true"
    >
      <span class="icon">
        {type === "note" && <NoteIcon class="h-5 w-5" />}
        {type === "tip" && <TipIcon class="h-5 w-5" />}
        {type === "caution" && <CautionIcon class="h-5 w-5" />}
        {type === "danger" && <DangerIcon class="h-5 w-5" />}
        {type === "success" && <SuccessIcon class="h-5 w-5" />}
      </span>
      {title}
    </header>
    <section class="px-2 prose-headings:my-1 prose-p:m-0">
      <slot />
    </section>
  </div>
</aside>

<style lang="scss">
  .note {
    &.card {
      @apply bg-blue-400/10 dark:bg-blue-500/10;
    }
    .content {
      @apply dark:fill-blue-400 fill-blue-600 text-blue-600 dark:text-blue-400;
    }
    .bord {
      @apply border-blue-600 dark:border-blue-500;
    }
  }
  .tip {
    &.card {
      @apply bg-sky-400/10 dark:bg-sky-500/10;
    }
    .content {
      @apply dark:fill-sky-400 fill-sky-600 text-sky-600 dark:text-sky-400;
    }
    .bord {
      @apply border-sky-600 dark:border-sky-500;
    }
  }
  .caution {
    &.card {
      @apply bg-amber-400/10 dark:bg-amber-500/10;
    }
    .content {
      @apply dark:fill-amber-400 fill-amber-600 text-amber-600 dark:text-amber-400;
    }
    .bord {
      @apply border-amber-600 dark:border-amber-500;
    }
  }
  .danger {
    &.card {
      @apply bg-red-400/10 dark:bg-red-500/10;
    }
    .content {
      @apply dark:fill-red-400 fill-red-600 text-red-600 dark:text-red-400;
    }
    .bord {
      @apply border-red-600 dark:border-red-500;
    }
  }
  .success {
    &.card {
      @apply bg-emerald-400/10 dark:bg-emerald-500/10;
    }
    .content {
      @apply dark:fill-emerald-400 fill-emerald-600 text-emerald-600 dark:text-emerald-400;
    }
    .bord {
      @apply border-emerald-600 dark:border-emerald-500;
    }
  }
</style>
